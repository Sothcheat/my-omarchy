#  hypridle.conf – USER-CHEAT-SHEET IS BELOW EACH LISTENER
#  ------------------------------------------------------------------
#  |  WANT TO…?                 |  DO THIS…
#  |  --------------------------|---------------------------------------
#  |  disable screensaver       |  set  screensaver_min = 0
#  |  disable suspend           |  set  suspend_min     = 0
#  |  never dim brightness      |  set  dim_min         = 0
#  |  never turn screen off     |  set  screen_off_min  = 0
#  |  change lock delay         |  change lock_min
#  |  change any other delay    |  change the number after “timeout =”
#  ------------------------------------------------------------------

general {
    lock_cmd      = omarchy-lock-screen
    before_sleep  = loginctl lock-session
    after_sleep   = hyprctl dispatch dpms on
    inhibit_sleep = 3
}

# ======  USER-TWEAKABLE NUMBERS  ======
dim_min        = 1      # set 0 to disable
lock_min       = 2      # time until screen locks
screen_off_min = 2      # extra minutes *after* lock until display off (set 0 → keep panel on)
screensaver_min= 10     # extra minutes *after* lock until screensaver (set 0 → disable)
suspend_min    = 15     # extra minutes *after* lock until suspend (set 0 → disable)
# ======================================

# 1. DIM -------------------------------------------------------------
#    Comment-out the whole listener if you set dim_min = 0
listener {
    timeout      = $dim_min m
    on-timeout   = brightnessctl -s set 10
    on-resume    = brightnessctl -r
}

# 2. LOCK ------------------------------------------------------------
listener {
    timeout      = $lock_min m
    on-timeout   = loginctl lock-session
}

# 3. TURN PANEL OFF --------------------------------------------------
#    Comment-out the whole listener if you set screen_off_min = 0
listener {
    timeout      = $((lock_min + screen_off_min)) m
    on-timeout   = hyprctl dispatch dpms off
    on-resume    = hyprctl dispatch dpms on && brightnessctl -r
}

# 4. SCREENSAVER -----------------------------------------------------
#    Comment-out the whole listener if you set screensaver_min = 0
listener {
    timeout      = $((lock_min + screensaver_min)) m
    on-timeout   = pgrep -x hyprlock || omarchy-launch-screensaver
}

# 5. SUSPEND ---------------------------------------------------------
#    Comment-out the whole listener if you set suspend_min = 0
listener {
    timeout      = $((lock_min + suspend_min)) m
    on-timeout   = systemctl suspend
}
